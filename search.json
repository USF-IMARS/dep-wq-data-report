[
  {
    "objectID": "parameter_report_template.html",
    "href": "parameter_report_template.html",
    "title": "Silica",
    "section": "",
    "text": "Silica Report\n\n\nCode\nif (!requireNamespace(\"librarian\", quietly = TRUE)) {\n  # If not installed, install the package\n  install.packages(\"librarian\")\n}\n\nlibrarian::shelf(\n  here,\n  skimr,\n  ggplot2\n)\n\nsource(here(\"R/getData.R\"))\ndata &lt;- getData()\n\n\n\n\nload data & skim\nparameter_name &lt;- params$parameter_name\nsubset_data &lt;- subset(data, Parameter == parameter_name)\nprint(skimr::skim(subset_data))\n\n\n── Data Summary ────────────────────────\n                           Values     \nName                       subset_data\nNumber of rows             49245      \nNumber of columns          17         \n_______________________               \nColumn type frequency:                \n  character                10         \n  numeric                  7          \n________________________              \nGroup variables            None       \n\n── Variable type: character ────────────────────────────────────────────────────\n   skim_variable  n_missing complete_rate min max empty n_unique whitespace\n 1 Source                 0         1       3   4     0        5          0\n 2 Site                   0         1       1  28     0      707          0\n 3 Latitude               0         1       8   8     0     4084          0\n 4 Longitude              0         1       9   9     0     4880          0\n 5 Parameter              0         1       6   6     0        1          0\n 6 Units                  0         1       3   9     0        4          0\n 7 Trend Analysis         0         1       2   3     0        2          0\n 8 Continuous             0         1       2   3     0        2          0\n 9 End Date               0         1       4   7     0       13          0\n10 Value_orig          2699         0.945   1  11     0    11369          0\n\n── Variable type: numeric ──────────────────────────────────────────────────────\n  skim_variable n_missing complete_rate       mean        sd           p0\n1 ...1                  0         1     418978.    24991.    392113      \n2 Month                 0         1          6.54      3.45       1      \n3 Year                  0         1       2012.        8.34    1995      \n4 Value              2699         0.945      0.137     0.829     -0.00014\n5 Total Depth       22685         0.539     10.3      10.2        0      \n6 Sample Depth        310         0.994      3.77      7.91       0      \n7 Start Date            0         1       1997.       11.7     1988      \n           p25         p50         p75     p100 hist \n1 404424       416887      430162      717535   ▇▁▁▁▁\n2      4            7          10          12   ▇▅▆▅▇\n3   2004         2012        2019        2022   ▂▃▃▂▇\n4      0.00703      0.0218      0.0717     77.3 ▇▁▁▁▁\n5      3.79         7.41       12.2       121.  ▇▁▁▁▁\n6      0.5          0.5         3.8       121.  ▇▁▁▁▁\n7   1988         1988        2016        2020   ▇▃▁▁▃\n\n\n\n\ncreate params$parameter_name histogram\nggplot2::ggplot(subset_data, aes(x=Value)) +\n    geom_histogram(bins=30, fill=\"blue\", color=\"black\") +\n    scale_y_log10() +  # Transform the y-axis to a logarithmic scale\n    labs(title=paste(\"Histogram of Values for\", params$parameter_name),\n         x=\"Value\",\n         y=\"Log Frequency\") +\n    theme_minimal()"
  },
  {
    "objectID": "parameters.html",
    "href": "parameters.html",
    "title": "Parameter Reports",
    "section": "",
    "text": "(code) import libraries & functions\nif (!requireNamespace(\"librarian\", quietly = TRUE)) {\n  # If not installed, install the package\n  install.packages(\"librarian\")\n}\n\nlibrarian::shelf(\n  glue,\n  quarto\n)\nsource(\"R/getData.R\")\ndata &lt;- getData()\n\n\n\nParameters\nAvailable parameters:\n\n\n(code) view unique parameters\n# print unique values in `Parameter` column\nunique_parameters &lt;- unique(data$Parameter)\nprint(unique_parameters)\n\n\n [1] \"Chlorophyll a\"            \"Ammonium (N)\"            \n [3] \"Nitrate-Nitrite (N)\"      \"Nitrite (N)\"             \n [5] \"Nitrate (N)\"              \"Orthophosphate (P)\"      \n [7] \"Silica\"                   \"Nitrogen- Total\"         \n [9] \"Nitrogen- Total Kjeldahl\" \"Phosphorus- Total\"       \n[11] \"Turbidity\"               \n\n\n(code) view unique parameters\n# # create a violin plot of `Value` grouped by each `Parameter`\n# NOTE: this ran for 20min and never finished\n# ggplot2::ggplot(df, aes(x=Parameter, y=Value)) +\n#     geom_violin(trim=FALSE) +\n#     theme(axis.text.x = element_text(angle = 90, hjust = 1)) +\n#     labs(title=\"Violin Plot of Values by Parameter\",\n#          x=\"Parameter\",\n#          y=\"Value\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAmmonium (N)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nChlorophyll a\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNitrate (N)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNitrate-Nitrite (N)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNitrite (N)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNitrogen- Total\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNitrogen- Total Kjeldahl\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nOrthophosphate (P)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPhosphorus- Total\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSilica\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTurbidity\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "data_details.html",
    "href": "data_details.html",
    "title": "Data Details",
    "section": "",
    "text": "(code) import libraries & functions\nif (!requireNamespace(\"librarian\", quietly = TRUE)) {\n  # If not installed, install the package\n  install.packages(\"librarian\")\n}\n\nlibrarian::shelf(\n  readr,\n  skimr,\n  glue,\n  ggplot2,\n  quarto\n)\nsource(\"R/getData.R\")\n\n\nThere are three relevant types of data file provided:\n\n\n(code) preview the raw data\ninspectData &lt;- function(fpath){\n  print(fpath)\n  df &lt;- readr::read_csv(fpath)\n  print(head(df))\n}\n\ninspectData(\"data/Merged_chla.csv\")\n\n\n[1] \"data/Merged_chla.csv\"\n\n\nRows: 60719 Columns: 9\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (4): Source, Site, Parameter, Units\ndbl (3): Month, Year, Value\nlgl (2): Total Depth, Sample Depth\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\n# A tibble: 6 × 9\n  Source Site  Month  Year Parameter Value Units `Total Depth` `Sample Depth`\n  &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt; &lt;lgl&gt;         &lt;lgl&gt;         \n1 AOML   1         1  1998 chla      1.00  ug/L  NA            NA            \n2 AOML   2         1  1998 chla      0.556 ug/L  NA            NA            \n3 AOML   3         1  1998 chla      0.695 ug/L  NA            NA            \n4 AOML   4         1  1998 chla      0.427 ug/L  NA            NA            \n5 AOML   5         1  1998 chla      0.665 ug/L  NA            NA            \n6 AOML   6         1  1998 chla      0.267 ug/L  NA            NA            \n\n\n(code) preview the raw data\ninspectData(\"data/station_sampling_periods_for_all_programs.csv\")\n\n\n[1] \"data/station_sampling_periods_for_all_programs.csv\"\n\n\nRows: 998 Columns: 8\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (4): Source, Site, Currently Sampling?, Notes\ndbl (4): Lat, Long, Sample Start Year, Sample End Year\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\n# A tibble: 6 × 8\n  Source Site    Lat  Long `Sample Start Year` `Sample End Year`\n  &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;               &lt;dbl&gt;             &lt;dbl&gt;\n1 DERM   AC01   25.9 -80.1                2015              2021\n2 DERM   AC03   25.9 -80.2                2015              2021\n3 DERM   AC06   25.9 -80.2                2015              2021\n4 DERM   AR03   25.3 -80.4                2015              2021\n5 DERM   BB02   25.9 -80.1                2015              2021\n6 DERM   BB04   25.9 -80.1                2015              2021\n# ℹ 2 more variables: `Currently Sampling?` &lt;chr&gt;, Notes &lt;chr&gt;\n\n\n(code) preview the raw data\ninspectData(\"data/Unified_WQ_Database_1995-2022.csv\")\n\n\n[1] \"data/Unified_WQ_Database_1995-2022.csv\"\n\n\nNew names:\nRows: 612830 Columns: 16\n── Column specification\n──────────────────────────────────────────────────────── Delimiter: \",\" chr\n(10): Source, Site, Latitude, Longitude, Parameter, Value, Units, Trend ... dbl\n(6): ...1, Month, Year, Total Depth, Sample Depth, Start Date\nℹ Use `spec()` to retrieve the full column specification for this data. ℹ\nSpecify the column types or set `show_col_types = FALSE` to quiet this message.\n• `` -&gt; `...1`\n\n\n# A tibble: 6 × 16\n   ...1 Source Site  Latitude Longitude Month  Year Parameter     Value    Units\n  &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;         &lt;chr&gt;    &lt;chr&gt;\n1     1 AOML   1     25.64330 -80.12670     1  1998 Chlorophyll a 1.00488  ug/L \n2     2 AOML   2     25.64330 -80.10500     1  1998 Chlorophyll a 0.555864 ug/L \n3     3 AOML   3     25.63830 -80.08330     1  1998 Chlorophyll a 0.695148 ug/L \n4     4 AOML   4     25.10830 -80.38000     1  1998 Chlorophyll a 0.426756 ug/L \n5     5 AOML   5     25.09330 -80.35330     1  1998 Chlorophyll a 0.66462  ug/L \n6     6 AOML   6     25.06330 -80.31500     1  1998 Chlorophyll a 0.26712  ug/L \n# ℹ 6 more variables: `Total Depth` &lt;dbl&gt;, `Sample Depth` &lt;dbl&gt;,\n#   `Trend Analysis` &lt;chr&gt;, Continuous &lt;chr&gt;, `Start Date` &lt;dbl&gt;,\n#   `End Date` &lt;chr&gt;\n\n\nHere is a summarizing table of what I see in each:\n\n\n\n\n\n\n\n\n\nfilename\ngeospatial info\ndt info\n\n\n\n\n\nMerged_*.csv\ndepth?+source+site\nMM-YYYY\n\n\n\nstation_sampling_periods_for_all_programs.csv\nlat+lon+source+site\n\nstart+end year + still sampling\n\n\nUnified_WQ_Database_1995-2022.csv\nlat+lon+source+site\nMM-YYYY\nstart+end + still sampling\n\n\n\nSo… in theory Unified_WQ_Database_1995-2022.csv contains everything we could need.\n\nExploratory analyses\nA skim view of the data as it loads in:\n\n\n(code) skim the data\ndata &lt;- readr::read_csv(\"data/Unified_WQ_Database_1995-2022.csv\")\n\nskimr::skim(data)\n\n\n\nData summary\n\n\nName\ndata\n\n\nNumber of rows\n612830\n\n\nNumber of columns\n16\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n10\n\n\nnumeric\n6\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nSource\n0\n1.00\n3\n11\n0\n9\n0\n\n\nSite\n0\n1.00\n1\n28\n0\n1411\n0\n\n\nLatitude\n5462\n0.99\n8\n8\n0\n4739\n0\n\n\nLongitude\n5496\n0.99\n9\n9\n0\n5495\n0\n\n\nParameter\n0\n1.00\n6\n24\n0\n11\n0\n\n\nValue\n29273\n0.95\n1\n13\n0\n88595\n0\n\n\nUnits\n968\n1.00\n2\n9\n0\n13\n0\n\n\nTrend Analysis\n154\n1.00\n2\n3\n0\n2\n0\n\n\nContinuous\n154\n1.00\n2\n3\n0\n2\n0\n\n\nEnd Date\n154\n1.00\n4\n7\n0\n15\n0\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\n…1\n0\n1.00\n360505.76\n206864.14\n1\n182543.25\n365608.5\n537933.8\n717536.00\n▇▇▇▇▇\n\n\nMonth\n63\n1.00\n6.54\n3.43\n1\n4.00\n7.0\n10.0\n12.00\n▇▅▅▅▇\n\n\nYear\n63\n1.00\n2012.03\n7.92\n1995\n2006.00\n2013.0\n2019.0\n2022.00\n▂▃▅▃▇\n\n\nTotal Depth\n345777\n0.44\n10.21\n10.14\n0\n3.75\n7.3\n12.0\n120.57\n▇▁▁▁▁\n\n\nSample Depth\n132515\n0.78\n3.62\n13.44\n0\n0.50\n0.5\n3.2\n2494.00\n▇▁▁▁▁\n\n\nStart Date\n154\n1.00\n1999.21\n11.08\n1988\n1988.00\n1998.0\n2005.0\n2022.00\n▇▃▃▁▃\n\n\n\n\n\nThe Value is reading in as “Character” when it should be “Numeric”. We can convert it and view the rows that are being lost because they read as non-numeric:\n\n\n(code) view bad rows\ndata &lt;- getData()  # the getData in getData.R reads and converts the Value col \n\n\nNew names:\n• `` -&gt; `...1`\n\n\nWarning in getData(): NAs introduced by coercion\n\n\n(code) view bad rows\nna_rows &lt;- is.na(data$Value) & !is.na(data$Value_orig)\nna_introduced_rows &lt;- data[na_rows, ]\n\nprint(na_introduced_rows)\n\n\n# A tibble: 4,989 × 17\n    ...1 Source Site    Latitude Longitude Month  Year Parameter     Value Units\n   &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;         &lt;dbl&gt; &lt;chr&gt;\n 1 10172 AOML   AMI4    27.38060 -83.03420     8  2022 Chlorophyll a    NA ug/L \n 2 10178 AOML   V3      27.03630 -82.61340     8  2022 Chlorophyll a    NA ug/L \n 3 60251 FIU    Sta 351 24.69170 -81.79170     1  2011 Chlorophyll a    NA ug/L \n 4 60252 FIU    Sta 351 24.69170 -81.79170     4  2011 Chlorophyll a    NA ug/L \n 5 60253 FIU    Sta 351 24.69170 -81.79170     7  2011 Chlorophyll a    NA ug/L \n 6 60309 FIU    Sta 352 24.77580 -81.78300     1  2011 Chlorophyll a    NA ug/L \n 7 60310 FIU    Sta 352 24.77580 -81.78300     4  2011 Chlorophyll a    NA ug/L \n 8 60311 FIU    Sta 352 24.77580 -81.78300     7  2011 Chlorophyll a    NA ug/L \n 9 60367 FIU    Sta 353 24.85830 -81.77670     1  2011 Chlorophyll a    NA ug/L \n10 60368 FIU    Sta 353 24.85830 -81.77670     4  2011 Chlorophyll a    NA ug/L \n# ℹ 4,979 more rows\n# ℹ 7 more variables: `Total Depth` &lt;dbl&gt;, `Sample Depth` &lt;dbl&gt;,\n#   `Trend Analysis` &lt;chr&gt;, Continuous &lt;chr&gt;, `Start Date` &lt;dbl&gt;,\n#   `End Date` &lt;chr&gt;, Value_orig &lt;chr&gt;\n\n\nThe unique problem values in the “Values” column:\n\n\n(code) view bad Value values\nprint(unique(na_introduced_rows$Value_orig))\n\n\n[1] \"Spilled\"       \"TRUE\"          \"FALSE\"         \"*Non-detect\"  \n[5] \"*Not Reported\" \"ND\""
  },
  {
    "objectID": "parameter_reports/Turbidity.html",
    "href": "parameter_reports/Turbidity.html",
    "title": "Turbidity",
    "section": "",
    "text": "Turbidity Report\n\n\nCode\nif (!requireNamespace(\"librarian\", quietly = TRUE)) {\n  # If not installed, install the package\n  install.packages(\"librarian\")\n}\n\nlibrarian::shelf(\n  here,\n  skimr,\n  ggplot2\n)\n\nsource(here(\"R/getData.R\"))\ndata &lt;- getData()\n\n\n\n\nload data & skim\nparameter_name &lt;- params$parameter_name\nsubset_data &lt;- subset(data, Parameter == parameter_name)\nprint(skimr::skim(subset_data))\n\n\n── Data Summary ────────────────────────\n                           Values     \nName                       subset_data\nNumber of rows             69615      \nNumber of columns          17         \n_______________________               \nColumn type frequency:                \n  character                10         \n  numeric                  7          \n________________________              \nGroup variables            None       \n\n── Variable type: character ────────────────────────────────────────────────────\n   skim_variable  n_missing complete_rate min max empty n_unique whitespace\n 1 Source                 0         1       3  11     0        6          0\n 2 Site                   0         1       1  28     0      853          0\n 3 Latitude            2113         0.970   8   8     0      729          0\n 4 Longitude           2117         0.970   9   9     0      699          0\n 5 Parameter              0         1       9   9     0        1          0\n 6 Units                887         0.987   3   4     0        2          0\n 7 Trend Analysis        60         0.999   2   3     0        2          0\n 8 Continuous            60         0.999   2   3     0        2          0\n 9 End Date              60         0.999   4   7     0        8          0\n10 Value_orig           261         0.996   1  11     0     3845          0\n\n── Variable type: numeric ──────────────────────────────────────────────────────\n  skim_variable n_missing complete_rate      mean       sd     p0       p25\n1 ...1                  0         1     674278.   21875.   638287 655690.  \n2 Month                23         1.00       6.50     3.41      1      4   \n3 Year                 23         1.00    2012.       7.60   1995   2006   \n4 Value               262         0.996      1.69     8.62      0      0.35\n5 Total Depth       41901         0.398     10.2     10.2       0      3.62\n6 Sample Depth      24409         0.649      4.30     8.21      0      0.5 \n7 Start Date           60         0.999   2001.      11.3    1988   1988   \n        p50       p75    p100 hist \n1 673094    690898.   716036  ▇▇▇▇▅\n2      7         9        12  ▇▆▆▅▇\n3   2013      2019      2022  ▂▂▅▃▇\n4      0.7       1.4    1626  ▇▁▁▁▁\n5      7.30     12.1     121. ▇▁▁▁▁\n6      0.5       4.89    121. ▇▁▁▁▁\n7   2005      2008      2022  ▇▁▆▁▅\n\n\n\n\ncreate params$parameter_name histogram\nggplot2::ggplot(subset_data, aes(x=Value)) +\n    geom_histogram(bins=30, fill=\"blue\", color=\"black\") +\n    scale_y_log10() +  # Transform the y-axis to a logarithmic scale\n    labs(title=paste(\"Histogram of Values for\", params$parameter_name),\n         x=\"Value\",\n         y=\"Log Frequency\") +\n    theme_minimal()"
  },
  {
    "objectID": "parameter_reports/Ammonium (N).html",
    "href": "parameter_reports/Ammonium (N).html",
    "title": "Ammonium (N)",
    "section": "",
    "text": "Ammonium (N) Report\n\n\nCode\nif (!requireNamespace(\"librarian\", quietly = TRUE)) {\n  # If not installed, install the package\n  install.packages(\"librarian\")\n}\n\nlibrarian::shelf(\n  here,\n  skimr,\n  ggplot2\n)\n\nsource(here(\"R/getData.R\"))\ndata &lt;- getData()\n\n\n\n\nload data & skim\nparameter_name &lt;- params$parameter_name\nsubset_data &lt;- subset(data, Parameter == parameter_name)\nprint(skimr::skim(subset_data))\n\n\n── Data Summary ────────────────────────\n                           Values     \nName                       subset_data\nNumber of rows             75461      \nNumber of columns          17         \n_______________________               \nColumn type frequency:                \n  character                10         \n  numeric                  7          \n________________________              \nGroup variables            None       \n\n── Variable type: character ────────────────────────────────────────────────────\n   skim_variable  n_missing complete_rate min max empty n_unique whitespace\n 1 Source                 0         1       3  11     0        9          0\n 2 Site                   0         1       1  28     0      919          0\n 3 Latitude              44         0.999   8   8     0     4325          0\n 4 Longitude             48         0.999   9   9     0     5098          0\n 5 Parameter              0         1      12  12     0        1          0\n 6 Units                  0         1       4   6     0        4          0\n 7 Trend Analysis        18         1.00    2   3     0        2          0\n 8 Continuous            18         1.00    2   3     0        2          0\n 9 End Date              18         1.00    4   7     0       14          0\n10 Value_orig          4705         0.938   1  11     0     4830          0\n\n── Variable type: numeric ──────────────────────────────────────────────────────\n  skim_variable n_missing complete_rate        mean        sd           p0\n1 ...1                  0         1     109380.     39374.    69428       \n2 Month                 8         1.00       6.54       3.44      1       \n3 Year                  8         1.00    2012.         7.74   1995       \n4 Value              5094         0.932      0.0720     0.284    -0.000322\n5 Total Depth       47130         0.375     10.3       10.2       0       \n6 Sample Depth      22552         0.701      3.82      16.9       0       \n7 Start Date           18         1.00    2000.        10.8    1988       \n          p25       p50       p75     p100 hist \n1 88293       107158    126161    717531   ▇▁▁▁▁\n2     4            7        10        12   ▇▅▅▅▇\n3  2006         2013      2019      2022   ▂▂▅▃▇\n4     0.00411      0.01      0.06     14.6 ▇▁▁▁▁\n5     3.89         7.5      12.3     121.  ▇▁▁▁▁\n6     0.5          0.5       3.52   2494   ▇▁▁▁▁\n7  1988         2001      2005      2022   ▇▃▆▁▅\n\n\n\n\ncreate params$parameter_name histogram\nggplot2::ggplot(subset_data, aes(x=Value)) +\n    geom_histogram(bins=30, fill=\"blue\", color=\"black\") +\n    scale_y_log10() +  # Transform the y-axis to a logarithmic scale\n    labs(title=paste(\"Histogram of Values for\", params$parameter_name),\n         x=\"Value\",\n         y=\"Log Frequency\") +\n    theme_minimal()"
  },
  {
    "objectID": "parameter_reports/Silica.html",
    "href": "parameter_reports/Silica.html",
    "title": "Silica",
    "section": "",
    "text": "Silica Report\n\n\nCode\nif (!requireNamespace(\"librarian\", quietly = TRUE)) {\n  # If not installed, install the package\n  install.packages(\"librarian\")\n}\n\nlibrarian::shelf(\n  here,\n  skimr,\n  ggplot2\n)\n\nsource(here(\"R/getData.R\"))\ndata &lt;- getData()\n\n\n\n\nload data & skim\nparameter_name &lt;- params$parameter_name\nsubset_data &lt;- subset(data, Parameter == parameter_name)\nprint(skimr::skim(subset_data))\n\n\n── Data Summary ────────────────────────\n                           Values     \nName                       subset_data\nNumber of rows             49245      \nNumber of columns          17         \n_______________________               \nColumn type frequency:                \n  character                10         \n  numeric                  7          \n________________________              \nGroup variables            None       \n\n── Variable type: character ────────────────────────────────────────────────────\n   skim_variable  n_missing complete_rate min max empty n_unique whitespace\n 1 Source                 0         1       3   4     0        5          0\n 2 Site                   0         1       1  28     0      707          0\n 3 Latitude               0         1       8   8     0     4084          0\n 4 Longitude              0         1       9   9     0     4880          0\n 5 Parameter              0         1       6   6     0        1          0\n 6 Units                  0         1       3   9     0        4          0\n 7 Trend Analysis         0         1       2   3     0        2          0\n 8 Continuous             0         1       2   3     0        2          0\n 9 End Date               0         1       4   7     0       13          0\n10 Value_orig          2699         0.945   1  11     0    11369          0\n\n── Variable type: numeric ──────────────────────────────────────────────────────\n  skim_variable n_missing complete_rate       mean        sd           p0\n1 ...1                  0         1     418978.    24991.    392113      \n2 Month                 0         1          6.54      3.45       1      \n3 Year                  0         1       2012.        8.34    1995      \n4 Value              2699         0.945      0.137     0.829     -0.00014\n5 Total Depth       22685         0.539     10.3      10.2        0      \n6 Sample Depth        310         0.994      3.77      7.91       0      \n7 Start Date            0         1       1997.       11.7     1988      \n           p25         p50         p75     p100 hist \n1 404424       416887      430162      717535   ▇▁▁▁▁\n2      4            7          10          12   ▇▅▆▅▇\n3   2004         2012        2019        2022   ▂▃▃▂▇\n4      0.00703      0.0218      0.0717     77.3 ▇▁▁▁▁\n5      3.79         7.41       12.2       121.  ▇▁▁▁▁\n6      0.5          0.5         3.8       121.  ▇▁▁▁▁\n7   1988         1988        2016        2020   ▇▃▁▁▃\n\n\n\n\ncreate params$parameter_name histogram\nggplot2::ggplot(subset_data, aes(x=Value)) +\n    geom_histogram(bins=30, fill=\"blue\", color=\"black\") +\n    scale_y_log10() +  # Transform the y-axis to a logarithmic scale\n    labs(title=paste(\"Histogram of Values for\", params$parameter_name),\n         x=\"Value\",\n         y=\"Log Frequency\") +\n    theme_minimal()"
  },
  {
    "objectID": "parameter_reports/Nitrogen- Total.html",
    "href": "parameter_reports/Nitrogen- Total.html",
    "title": "Nitrogen- Total",
    "section": "",
    "text": "Nitrogen- Total Report\n\n\nCode\nif (!requireNamespace(\"librarian\", quietly = TRUE)) {\n  # If not installed, install the package\n  install.packages(\"librarian\")\n}\n\nlibrarian::shelf(\n  here,\n  skimr,\n  ggplot2\n)\n\nsource(here(\"R/getData.R\"))\ndata &lt;- getData()\n\n\n\n\nload data & skim\nparameter_name &lt;- params$parameter_name\nsubset_data &lt;- subset(data, Parameter == parameter_name)\nprint(skimr::skim(subset_data))\n\n\n── Data Summary ────────────────────────\n                           Values     \nName                       subset_data\nNumber of rows             33377      \nNumber of columns          17         \n_______________________               \nColumn type frequency:                \n  character                10         \n  numeric                  7          \n________________________              \nGroup variables            None       \n\n── Variable type: character ────────────────────────────────────────────────────\n   skim_variable  n_missing complete_rate min max empty n_unique whitespace\n 1 Source                 0         1       3   7     0        4          0\n 2 Site                   0         1       1  28     0      425          0\n 3 Latitude               0         1       8   8     0      411          0\n 4 Longitude              4         1.00    9   9     0      405          0\n 5 Parameter              0         1      15  15     0        1          0\n 6 Units                  0         1       4   6     0        3          0\n 7 Trend Analysis         0         1       2   3     0        2          0\n 8 Continuous             0         1       2   3     0        2          0\n 9 End Date               0         1       4   7     0        6          0\n10 Value_orig           724         0.978   1  11     0    22541          0\n\n── Variable type: numeric ──────────────────────────────────────────────────────\n  skim_variable n_missing complete_rate       mean        sd     p0       p25\n1 ...1                  0         1     468658.    10926.    451097 459448   \n2 Month                 0         1          6.50      3.41       1      4   \n3 Year                  0         1       2009.        8.26    1995   2002   \n4 Value               725         0.978      0.281     0.382      0      0.11\n5 Total Depth        4922         0.853     10.3      10.2        0      3.89\n6 Sample Depth       2924         0.912      4.50      8.52       0      0.5 \n7 Start Date            0         1       1991.        7.63    1988   1988   \n         p50        p75      p100 hist \n1 467861     476820     492529    ▇▇▇▅▃\n2      7         10         12    ▇▆▆▅▇\n3   2009       2017       2022    ▆▆▇▅▇\n4      0.165      0.270      6.54 ▇▁▁▁▁\n5      7.5       12.4      121.   ▇▁▁▁▁\n6      0.5        5.37     121.   ▇▁▁▁▁\n7   1988       1988       2022    ▇▁▁▁▁\n\n\n\n\ncreate params$parameter_name histogram\nggplot2::ggplot(subset_data, aes(x=Value)) +\n    geom_histogram(bins=30, fill=\"blue\", color=\"black\") +\n    scale_y_log10() +  # Transform the y-axis to a logarithmic scale\n    labs(title=paste(\"Histogram of Values for\", params$parameter_name),\n         x=\"Value\",\n         y=\"Log Frequency\") +\n    theme_minimal()"
  },
  {
    "objectID": "parameter_reports/Nitrite (N).html",
    "href": "parameter_reports/Nitrite (N).html",
    "title": "Nitrite (N)",
    "section": "",
    "text": "Nitrite (N) Report\n\n\nCode\nif (!requireNamespace(\"librarian\", quietly = TRUE)) {\n  # If not installed, install the package\n  install.packages(\"librarian\")\n}\n\nlibrarian::shelf(\n  here,\n  skimr,\n  ggplot2\n)\n\nsource(here(\"R/getData.R\"))\ndata &lt;- getData()\n\n\n\n\nload data & skim\nparameter_name &lt;- params$parameter_name\nsubset_data &lt;- subset(data, Parameter == parameter_name)\nprint(skimr::skim(subset_data))\n\n\n── Data Summary ────────────────────────\n                           Values     \nName                       subset_data\nNumber of rows             50783      \nNumber of columns          17         \n_______________________               \nColumn type frequency:                \n  character                10         \n  numeric                  7          \n________________________              \nGroup variables            None       \n\n── Variable type: character ────────────────────────────────────────────────────\n   skim_variable  n_missing complete_rate min max empty n_unique whitespace\n 1 Source                 0         1       3   4     0        4          0\n 2 Site                   0         1       1  28     0      673          0\n 3 Latitude               0         1       8   8     0     4056          0\n 4 Longitude              4         1.00    9   9     0     4853          0\n 5 Parameter              0         1      11  11     0        1          0\n 6 Units                  0         1       4   6     0        2          0\n 7 Trend Analysis         0         1       2   3     0        2          0\n 8 Continuous             0         1       2   3     0        2          0\n 9 End Date               0         1       4   7     0       12          0\n10 Value_orig          5973         0.882   1  11     0     2675          0\n\n── Variable type: numeric ──────────────────────────────────────────────────────\n  skim_variable n_missing complete_rate         mean         sd            p0\n1 ...1                  0         1     272491.      32651.     244694       \n2 Month                 0         1          6.54        3.44        1       \n3 Year                  0         1       2011.          8.53     1995       \n4 Value              6460         0.873      0.00261     0.0309     -0.000056\n5 Total Depth       22601         0.555     10.4        10.3         0       \n6 Sample Depth        226         0.996      3.81        7.93        0       \n7 Start Date            0         1       1997.         11.6      1988       \n            p25           p50        p75      p100 hist \n1 257390.       270118        283074.    717533    ▇▁▁▁▁\n2      4             7            10         12    ▇▅▆▅▇\n3   2004          2012          2019       2022    ▃▃▃▂▇\n4      0.000317      0.000675      0.002      4.17 ▇▁▁▁▁\n5      3.87          7.5          12.4      121.   ▇▁▁▁▁\n6      0.5           0.5           4        121.   ▇▁▁▁▁\n7   1988          1988          2015       2020    ▇▃▁▁▃\n\n\n\n\ncreate params$parameter_name histogram\nggplot2::ggplot(subset_data, aes(x=Value)) +\n    geom_histogram(bins=30, fill=\"blue\", color=\"black\") +\n    scale_y_log10() +  # Transform the y-axis to a logarithmic scale\n    labs(title=paste(\"Histogram of Values for\", params$parameter_name),\n         x=\"Value\",\n         y=\"Log Frequency\") +\n    theme_minimal()"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Dep-wq-data-report",
    "section": "",
    "text": "This collection of reports summarizes data provided by the Florida Department of Environmental Protection.\nThe recommended quality control cleaning steps are applied and explained.\nReports are generated\n\nfor each Water Quality (WQ) parameter\n(coming soon) for each data provider\n(coming soon) recommended quality control filtering across all sites\ndetails on the data files provided\n\nThe cleaned version of this data is fed into the FL DEP WQ Dashboard for site-by-site exploration."
  },
  {
    "objectID": "provider_sites_report.html",
    "href": "provider_sites_report.html",
    "title": "Sites Report",
    "section": "",
    "text": "A summary of which sites meet quality assessment checks to be included in the final map.\n\n\n(code) import libraries, functions, & data\nif (!requireNamespace(\"librarian\", quietly = TRUE)) {\n  # If not installed, install the package\n  install.packages(\"librarian\")\n}\n\nlibrarian::shelf(\n  ggplot2,\n  dplyr\n)\nsource(\"R/getData.R\")\n\n\n\n\nshow unique providers\nunique_sources &lt;- unique(data$Source)\nprint(unique_sources)\n\n\n[1] \"AOML\"        \"DERM\"        \"BROWARD\"     \"DEP\"         \"FIU\"        \n[6] \"21FLWQA\"     \"BBAP\"        \"Miami Beach\" \"BBWW\"       \n\n\n\n\nshow % of clean data per site\n# Count for raw dataframe\nraw_counts &lt;- getRawData() %&gt;%\n  group_by(Source) %&gt;%\n  summarise(Count = n(), .groups = 'drop') %&gt;%\n  mutate(Condition = \"Before Cleaning\")\n\n\nNew names:\n• `` -&gt; `...1`\n\n\nWarning in getRawData(): NAs introduced by coercion\n\n\nshow % of clean data per site\n# Count for cleaned dataframe\ncleaned_counts &lt;- getData() %&gt;%\n  group_by(Source) %&gt;%\n  summarise(Count = n(), .groups = 'drop') %&gt;%\n  mutate(Condition = \"After Cleaning\")\n\ncombined_counts &lt;- bind_rows(raw_counts, cleaned_counts)\n\nggplot(combined_counts, aes(x = Source, y = Count, fill = Condition)) +\n  geom_bar(stat = \"identity\", position = \"dodge\") +\n  labs(title = \"Number of Rows Per Source Before and After Cleaning\",\n       x = \"Source\",\n       y = \"Number of Rows\",\n       fill = \"Condition\") +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))  # Rotate x-axis labels for better readability"
  },
  {
    "objectID": "parameter_reports/Nitrate (N).html",
    "href": "parameter_reports/Nitrate (N).html",
    "title": "Nitrate (N)",
    "section": "",
    "text": "Nitrate (N) Report\n\n\nCode\nif (!requireNamespace(\"librarian\", quietly = TRUE)) {\n  # If not installed, install the package\n  install.packages(\"librarian\")\n}\n\nlibrarian::shelf(\n  here,\n  skimr,\n  ggplot2\n)\n\nsource(here(\"R/getData.R\"))\ndata &lt;- getData()\n\n\n\n\nload data & skim\nparameter_name &lt;- params$parameter_name\nsubset_data &lt;- subset(data, Parameter == parameter_name)\nprint(skimr::skim(subset_data))\n\n\n── Data Summary ────────────────────────\n                           Values     \nName                       subset_data\nNumber of rows             36204      \nNumber of columns          17         \n_______________________               \nColumn type frequency:                \n  character                10         \n  numeric                  7          \n________________________              \nGroup variables            None       \n\n── Variable type: character ────────────────────────────────────────────────────\n   skim_variable  n_missing complete_rate min max empty n_unique whitespace\n 1 Source                 0         1       3   4     0        4          0\n 2 Site                   0         1       1  28     0      587          0\n 3 Latitude               0         1       8   8     0     3984          0\n 4 Longitude              4         1.00    9   9     0     4800          0\n 5 Parameter              0         1      11  11     0        1          0\n 6 Units                  0         1       4   6     0        2          0\n 7 Trend Analysis         0         1       2   3     0        2          0\n 8 Continuous             0         1       2   3     0        2          0\n 9 End Date               0         1       4   7     0       12          0\n10 Value_orig          5992         0.834   1  11     0     2916          0\n\n── Variable type: numeric ──────────────────────────────────────────────────────\n  skim_variable n_missing complete_rate        mean        sd       p0\n1 ...1                  0         1     325471.     32410.    303594  \n2 Month                 0         1          6.58       3.44       1  \n3 Year                  0         1       2009.         7.77    1995  \n4 Value              6521         0.820      0.0102     0.532    -80.5\n5 Total Depth       10765         0.703      9.97       9.86       0  \n6 Sample Depth        226         0.994      3.20       7.30       0  \n7 Start Date            0         1       1992.         6.03    1988  \n           p25          p50          p75     p100 hist \n1 312645.      322286.      332618.      717534   ▇▁▁▁▁\n2      4            7           10           12   ▇▅▅▅▇\n3   2003         2009         2016         2022   ▆▇▇▅▇\n4      0.00058      0.00147      0.00342     23.2 ▁▁▁▇▁\n5      3.7          7           12          121.  ▇▁▁▁▁\n6      0            0.5          1.25       121.  ▇▁▁▁▁\n7   1988         1988         1998         2020   ▇▃▁▁▁\n\n\n\n\ncreate params$parameter_name histogram\nggplot2::ggplot(subset_data, aes(x=Value)) +\n    geom_histogram(bins=30, fill=\"blue\", color=\"black\") +\n    scale_y_log10() +  # Transform the y-axis to a logarithmic scale\n    labs(title=paste(\"Histogram of Values for\", params$parameter_name),\n         x=\"Value\",\n         y=\"Log Frequency\") +\n    theme_minimal()"
  },
  {
    "objectID": "parameter_reports/Nitrogen- Total Kjeldahl.html",
    "href": "parameter_reports/Nitrogen- Total Kjeldahl.html",
    "title": "Nitrogen- Total Kjeldahl",
    "section": "",
    "text": "Nitrogen- Total Kjeldahl Report\n\n\nCode\nif (!requireNamespace(\"librarian\", quietly = TRUE)) {\n  # If not installed, install the package\n  install.packages(\"librarian\")\n}\n\nlibrarian::shelf(\n  here,\n  skimr,\n  ggplot2\n)\n\nsource(here(\"R/getData.R\"))\ndata &lt;- getData()\n\n\n\n\nload data & skim\nparameter_name &lt;- params$parameter_name\nsubset_data &lt;- subset(data, Parameter == parameter_name)\nprint(skimr::skim(subset_data))\n\n\n── Data Summary ────────────────────────\n                           Values     \nName                       subset_data\nNumber of rows             58320      \nNumber of columns          17         \n_______________________               \nColumn type frequency:                \n  character                10         \n  numeric                  7          \n________________________              \nGroup variables            None       \n\n── Variable type: character ────────────────────────────────────────────────────\n   skim_variable  n_missing complete_rate min max empty n_unique whitespace\n 1 Source                 0         1       3  11     0        7          0\n 2 Site                   0         1       1  28     0     1020          0\n 3 Latitude             895         0.985   8   8     0      922          0\n 4 Longitude            899         0.985   9   9     0      894          0\n 5 Parameter              0         1      24  24     0        1          0\n 6 Units                 17         1.00    4   6     0        4          0\n 7 Trend Analysis         6         1.00    2   3     0        2          0\n 8 Continuous             6         1.00    2   3     0        2          0\n 9 End Date               6         1.00    4   7     0        7          0\n10 Value_orig          1027         0.982   1  11     0    21454          0\n\n── Variable type: numeric ──────────────────────────────────────────────────────\n  skim_variable n_missing complete_rate       mean       sd          p0\n1 ...1                  0         1     523174.    18998.   492530     \n2 Month                 6         1.00       6.48      3.42      1     \n3 Year                  6         1.00    2013.        7.94   1995     \n4 Value              1602         0.973      0.579    41.3      -0.0214\n5 Total Depth       30878         0.471     10.4      10.3       0     \n6 Sample Depth      12330         0.789      4.39     18.0       0     \n7 Start Date            6         1.00    2000.       11.8    1988     \n        p25        p50        p75    p100 hist \n1 507111.   521764     537180.    562015  ▇▇▇▅▅\n2      3         7          9         12  ▇▆▆▅▇\n3   2007      2015       2020       2022  ▂▂▃▃▇\n4      0.08      0.153      0.322   8800  ▇▁▁▁▁\n5      3.82      7.5       12.5      121. ▇▁▁▁▁\n6      0.5       0.5        4.7     2494  ▇▁▁▁▁\n7   1988      2001       2010       2022  ▇▂▃▁▅\n\n\n\n\ncreate params$parameter_name histogram\nggplot2::ggplot(subset_data, aes(x=Value)) +\n    geom_histogram(bins=30, fill=\"blue\", color=\"black\") +\n    scale_y_log10() +  # Transform the y-axis to a logarithmic scale\n    labs(title=paste(\"Histogram of Values for\", params$parameter_name),\n         x=\"Value\",\n         y=\"Log Frequency\") +\n    theme_minimal()"
  },
  {
    "objectID": "parameter_reports/Orthophosphate (P).html",
    "href": "parameter_reports/Orthophosphate (P).html",
    "title": "Orthophosphate (P)",
    "section": "",
    "text": "Orthophosphate (P) Report\n\n\nCode\nif (!requireNamespace(\"librarian\", quietly = TRUE)) {\n  # If not installed, install the package\n  install.packages(\"librarian\")\n}\n\nlibrarian::shelf(\n  here,\n  skimr,\n  ggplot2\n)\n\nsource(here(\"R/getData.R\"))\ndata &lt;- getData()\n\n\n\n\nload data & skim\nparameter_name &lt;- params$parameter_name\nsubset_data &lt;- subset(data, Parameter == parameter_name)\nprint(skimr::skim(subset_data))\n\n\n── Data Summary ────────────────────────\n                           Values     \nName                       subset_data\nNumber of rows             41666      \nNumber of columns          17         \n_______________________               \nColumn type frequency:                \n  character                10         \n  numeric                  7          \n________________________              \nGroup variables            None       \n\n── Variable type: character ────────────────────────────────────────────────────\n   skim_variable  n_missing complete_rate min max empty n_unique whitespace\n 1 Source                 0         1       3   7     0        6          0\n 2 Site                   0         1       1  16     0      702          0\n 3 Latitude             644         0.985   8   8     0     4139          0\n 4 Longitude            644         0.985   9   9     0     4903          0\n 5 Parameter              0         1      18  18     0        1          0\n 6 Units                 18         1.00    4   6     0        3          0\n 7 Trend Analysis         0         1       2   3     0        2          0\n 8 Continuous             0         1       2   3     0        2          0\n 9 End Date               0         1       4   7     0       14          0\n10 Value_orig           701         0.983   1  12     0     1756          0\n\n── Variable type: numeric ──────────────────────────────────────────────────────\n  skim_variable n_missing complete_rate        mean           sd        p0\n1 ...1                  0        1        373134.       27269.    3.51e+ 5\n2 Month                 0        1             6.63         3.45  1   e+ 0\n3 Year                  0        1          2015.           6.42  2.00e+ 3\n4 Value               869        0.979  -2750747.   174024939.   -1.11e+10\n5 Total Depth       40978        0.0165        9.10         9.04  9   e- 1\n6 Sample Depth      16403        0.606         2.40         6.21  0       \n7 Start Date            0        1          2007.           7.01  2.00e+ 3\n         p25        p50        p75     p100 hist \n1 361074.    371490.    381907.    717536   ▇▁▁▁▁\n2      4          7         10         12   ▇▅▅▅▇\n3   2011       2018       2020       2022   ▁▂▂▃▇\n4      0.002      0.004      0.005      2.3 ▁▁▁▁▇\n5      4.9        6.4        8.27      52.7 ▇▁▁▁▁\n6      0          0.5        0.5       54.5 ▇▁▁▁▁\n7   2001       2005       2016       2022   ▆▇▁▇▁\n\n\n\n\ncreate params$parameter_name histogram\nggplot2::ggplot(subset_data, aes(x=Value)) +\n    geom_histogram(bins=30, fill=\"blue\", color=\"black\") +\n    scale_y_log10() +  # Transform the y-axis to a logarithmic scale\n    labs(title=paste(\"Histogram of Values for\", params$parameter_name),\n         x=\"Value\",\n         y=\"Log Frequency\") +\n    theme_minimal()"
  },
  {
    "objectID": "parameter_reports/Phosphorus- Total.html",
    "href": "parameter_reports/Phosphorus- Total.html",
    "title": "Phosphorus- Total",
    "section": "",
    "text": "Phosphorus- Total Report\n\n\nCode\nif (!requireNamespace(\"librarian\", quietly = TRUE)) {\n  # If not installed, install the package\n  install.packages(\"librarian\")\n}\n\nlibrarian::shelf(\n  here,\n  skimr,\n  ggplot2\n)\n\nsource(here(\"R/getData.R\"))\ndata &lt;- getData()\n\n\n\n\nload data & skim\nparameter_name &lt;- params$parameter_name\nsubset_data &lt;- subset(data, Parameter == parameter_name)\nprint(skimr::skim(subset_data))\n\n\n── Data Summary ────────────────────────\n                           Values     \nName                       subset_data\nNumber of rows             68086      \nNumber of columns          17         \n_______________________               \nColumn type frequency:                \n  character                10         \n  numeric                  7          \n________________________              \nGroup variables            None       \n\n── Variable type: character ────────────────────────────────────────────────────\n   skim_variable  n_missing complete_rate min max empty n_unique whitespace\n 1 Source                 0         1       3  11     0        7          0\n 2 Site                   0         1       1  28     0      795          0\n 3 Latitude             308         0.995   8   8     0      649          0\n 4 Longitude            312         0.995   9   9     0      620          0\n 5 Parameter              0         1      17  17     0        1          0\n 6 Units                  0         1       4   6     0        5          0\n 7 Trend Analysis        36         0.999   2   3     0        2          0\n 8 Continuous            36         0.999   2   3     0        2          0\n 9 End Date              36         0.999   4   7     0        9          0\n10 Value_orig           675         0.990   1  11     0    13899          0\n\n── Variable type: numeric ──────────────────────────────────────────────────────\n  skim_variable n_missing complete_rate        mean         sd         p0\n1 ...1                  0         1     597035.     21187.     562016    \n2 Month                23         1.00       6.52       3.43        1    \n3 Year                 23         1.00    2013.         7.65     1995    \n4 Value               675         0.990      0.0158     0.0357     -0.147\n5 Total Depth       39631         0.418     10.3       10.2         0    \n6 Sample Depth      23213         0.659      4.54      18.2         0    \n7 Start Date           36         0.999   2001.        11.7      1988    \n          p25          p50        p75      p100 hist \n1 579038.     596060.      613193.    638286    ▇▇▇▇▅\n2      4           7           10         12    ▇▆▆▅▇\n3   2007        2015         2019       2022    ▂▂▃▃▇\n4      0.0052      0.00837      0.015      5.27 ▇▁▁▁▁\n5      3.88        7.5         12.3      121.   ▇▁▁▁▁\n6      0.5         0.5          5.12    2494    ▇▁▁▁▁\n7   1988        2005         2016       2022    ▇▁▆▁▅\n\n\n\n\ncreate params$parameter_name histogram\nggplot2::ggplot(subset_data, aes(x=Value)) +\n    geom_histogram(bins=30, fill=\"blue\", color=\"black\") +\n    scale_y_log10() +  # Transform the y-axis to a logarithmic scale\n    labs(title=paste(\"Histogram of Values for\", params$parameter_name),\n         x=\"Value\",\n         y=\"Log Frequency\") +\n    theme_minimal()"
  },
  {
    "objectID": "parameter_reports/Nitrate-Nitrite (N).html",
    "href": "parameter_reports/Nitrate-Nitrite (N).html",
    "title": "Nitrate-Nitrite (N)",
    "section": "",
    "text": "Nitrate-Nitrite (N) Report\n\n\nCode\nif (!requireNamespace(\"librarian\", quietly = TRUE)) {\n  # If not installed, install the package\n  install.packages(\"librarian\")\n}\n\nlibrarian::shelf(\n  here,\n  skimr,\n  ggplot2\n)\n\nsource(here(\"R/getData.R\"))\ndata &lt;- getData()\n\n\n\n\nload data & skim\nparameter_name &lt;- params$parameter_name\nsubset_data &lt;- subset(data, Parameter == parameter_name)\nprint(skimr::skim(subset_data))\n\n\n── Data Summary ────────────────────────\n                           Values     \nName                       subset_data\nNumber of rows             78877      \nNumber of columns          17         \n_______________________               \nColumn type frequency:                \n  character                10         \n  numeric                  7          \n________________________              \nGroup variables            None       \n\n── Variable type: character ────────────────────────────────────────────────────\n   skim_variable  n_missing complete_rate min max empty n_unique whitespace\n 1 Source                 0         1       3  11     0        9          0\n 2 Site                   0         1       1  28     0     1281          0\n 3 Latitude             877         0.989   8   8     0     4640          0\n 4 Longitude            881         0.989   9   9     0     5408          0\n 5 Parameter              0         1      19  19     0        1          0\n 6 Units                 19         1.00    2   4     0        4          0\n 7 Trend Analysis        34         1.00    2   3     0        2          0\n 8 Continuous            34         1.00    2   3     0        2          0\n 9 End Date              34         1.00    4   7     0       14          0\n10 Value_orig          5831         0.926   1  11     0     4467          0\n\n── Variable type: numeric ──────────────────────────────────────────────────────\n  skim_variable n_missing complete_rate       mean        sd            p0\n1 ...1                  0         1     197389.    36300.    155568       \n2 Month                 3         1.00       6.55      3.44       1       \n3 Year                  3         1.00    2012.        7.66    1995       \n4 Value              8073         0.898      0.119     0.564     -0.000042\n5 Total Depth       50492         0.360     10.3      10.2        0       \n6 Sample Depth      21520         0.727      3.58     16.2        0       \n7 Start Date           34         1.00    2000.       10.6     1988       \n          p25        p50        p75    p100 hist \n1 175288      195008     214880     717532  ▇▁▁▁▁\n2      4           7         10         12  ▇▅▅▅▇\n3   2006        2014       2019       2022  ▂▂▅▃▇\n4      0.0021      0.006      0.025     42  ▇▁▁▁▁\n5      3.87        7.5       12.3      121. ▇▁▁▁▁\n6      0.5         0.5        2.88    2494  ▇▁▁▁▁\n7   1988        2001       2005       2022  ▇▅▆▁▅\n\n\n\n\ncreate params$parameter_name histogram\nggplot2::ggplot(subset_data, aes(x=Value)) +\n    geom_histogram(bins=30, fill=\"blue\", color=\"black\") +\n    scale_y_log10() +  # Transform the y-axis to a logarithmic scale\n    labs(title=paste(\"Histogram of Values for\", params$parameter_name),\n         x=\"Value\",\n         y=\"Log Frequency\") +\n    theme_minimal()"
  },
  {
    "objectID": "parameter_reports/Chlorophyll a.html",
    "href": "parameter_reports/Chlorophyll a.html",
    "title": "Chlorophyll a",
    "section": "",
    "text": "Chlorophyll a Report\n\n\nCode\nif (!requireNamespace(\"librarian\", quietly = TRUE)) {\n  # If not installed, install the package\n  install.packages(\"librarian\")\n}\n\nlibrarian::shelf(\n  here,\n  skimr,\n  ggplot2\n)\n\nsource(here(\"R/getData.R\"))\ndata &lt;- getData()\n\n\n\n\nload data & skim\nparameter_name &lt;- params$parameter_name\nsubset_data &lt;- subset(data, Parameter == parameter_name)\nprint(skimr::skim(subset_data))\n\n\n── Data Summary ────────────────────────\n                           Values     \nName                       subset_data\nNumber of rows             51196      \nNumber of columns          17         \n_______________________               \nColumn type frequency:                \n  character                10         \n  numeric                  7          \n________________________              \nGroup variables            None       \n\n── Variable type: character ────────────────────────────────────────────────────\n   skim_variable  n_missing complete_rate min max empty n_unique whitespace\n 1 Source                 0         1       3   7     0        8          0\n 2 Site                   0         1       1  28     0     1178          0\n 3 Latitude             581         0.989   8   8     0     4575          0\n 4 Longitude            583         0.989   9   9     0     5335          0\n 5 Parameter              0         1      13  13     0        1          0\n 6 Units                 27         0.999   4   4     0        2          0\n 7 Trend Analysis         0         1       2   3     0        2          0\n 8 Continuous             0         1       2   3     0        2          0\n 9 End Date               0         1       4   7     0       15          0\n10 Value_orig           685         0.987   1  13     0    18971          0\n\n── Variable type: numeric ──────────────────────────────────────────────────────\n  skim_variable n_missing complete_rate     mean       sd       p0       p25\n1 ...1                  0         1     30493.   48063.      1     12801.   \n2 Month                 0         1         6.59     3.43    1         4    \n3 Year                  0         1      2012.       7.90 1995      2006    \n4 Value              1282         0.975     1.82     5.14   -0.048     0.286\n5 Total Depth       33794         0.340     9.05     9.25    0         3.05 \n6 Sample Depth       8402         0.836     1.01    16.8     0         0.1  \n7 Start Date            0         1      1999.       9.92 1988      1988    \n       p50      p75    p100 hist \n1 25600.   38839.   717530  ▇▁▁▁▁\n2     7       10        12  ▇▅▅▅▇\n3  2013     2019      2022  ▂▃▅▅▇\n4     0.58     1.58    300  ▇▁▁▁▁\n5     6       11.4     121. ▇▁▁▁▁\n6     0.5      0.5    2494  ▇▁▁▁▁\n7  1998     2005      2021  ▇▇▅▁▃\n\n\n\n\ncreate params$parameter_name histogram\nggplot2::ggplot(subset_data, aes(x=Value)) +\n    geom_histogram(bins=30, fill=\"blue\", color=\"black\") +\n    scale_y_log10() +  # Transform the y-axis to a logarithmic scale\n    labs(title=paste(\"Histogram of Values for\", params$parameter_name),\n         x=\"Value\",\n         y=\"Log Frequency\") +\n    theme_minimal()"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site"
  },
  {
    "objectID": "sites_qc.html",
    "href": "sites_qc.html",
    "title": "Sites QC",
    "section": "",
    "text": "Code\nif (!requireNamespace(\"librarian\", quietly = TRUE)) {\n  # If not installed, install the package\n  install.packages(\"librarian\")\n}\n\nlibrarian::shelf(\n  dplyr,\n  glue,\n  ggplot2,\n  here,\n  skimr,\n)\n\nsource(here(\"R/getData.R\"))\n\n\n\n\nload data & skim\ndf &lt;- getRawData()\n\n\nNew names:\n• `` -&gt; `...1`\n\n\nWarning in getRawData(): NAs introduced by coercion\n\n\nload data & skim\nprint(skimr::skim(df))\n\n\n── Data Summary ────────────────────────\n                           Values\nName                       df    \nNumber of rows             612830\nNumber of columns          17    \n_______________________          \nColumn type frequency:           \n  character                10    \n  numeric                  7     \n________________________         \nGroup variables            None  \n\n── Variable type: character ────────────────────────────────────────────────────\n   skim_variable  n_missing complete_rate min max empty n_unique whitespace\n 1 Source                 0         1       3  11     0        9          0\n 2 Site                   0         1       1  28     0     1411          0\n 3 Latitude            5462         0.991   8   8     0     4739          0\n 4 Longitude           5496         0.991   9   9     0     5495          0\n 5 Parameter              0         1       6  24     0       11          0\n 6 Units                968         0.998   2   9     0       13          0\n 7 Trend Analysis       154         1.00    2   3     0        2          0\n 8 Continuous           154         1.00    2   3     0        2          0\n 9 End Date             154         1.00    4   7     0       15          0\n10 Value_orig         29273         0.952   1  13     0    88595          0\n\n── Variable type: numeric ──────────────────────────────────────────────────────\n  skim_variable n_missing complete_rate       mean          sd           p0\n1 ...1                  0         1      360506.     206864.              1\n2 Month                63         1.00        6.54        3.43            1\n3 Year                 63         1.00     2012.          7.92         1995\n4 Value             34262         0.944 -193965.   46216162.   -11111111110\n5 Total Depth      345777         0.436      10.2        10.1             0\n6 Sample Depth     132515         0.784       3.62       13.4             0\n7 Start Date          154         1.00     1999.         11.1          1988\n         p25       p50        p75    p100 hist \n1 182543.    365608.   537934.    717536  ▇▇▇▇▇\n2      4          7        10         12  ▇▅▅▅▇\n3   2006       2013      2019       2022  ▂▃▅▃▇\n4      0.004      0.02      0.233   8800  ▁▁▁▁▇\n5      3.75       7.3      12        121. ▇▁▁▁▁\n6      0.5        0.5       3.2     2494  ▇▁▁▁▁\n7   1988       1998      2005       2022  ▇▃▃▁▃\n\n\n\n\nfunction for plotting sites histogram\nsite_histogram &lt;- function(df){\n  number_of_unique_sites &lt;- df %&gt;% summarise(unique_sites = dplyr::n_distinct(Site))\n\n  site_counts &lt;- df %&gt;%\n    group_by(Site) %&gt;%\n    summarise(Count = n())\n  \n  ggplot(site_counts, aes(x = Count)) +\n    geom_histogram(binwidth = 1, fill = \"blue\", color = \"black\") +\n    labs(title = glue(\"Histogram of Rows Per Site (total sites: {number_of_unique_sites})\"),\n         x = \"Number of Rows\",\n         y = \"Number of Sites\") +\n    theme_minimal()\n}\n\n\n\n\nshow initial sites setup\nsite_histogram(df)\n\n\n\n\n\n\n\ndrop rows without Year or Value\ndf &lt;- df %&gt;%\n  filter(!is.na(Year) & !is.na(Value))\n\nsite_histogram(df)\n\n\n\n\n\n\n\nremove sites with &lt; 20 data points\ndf &lt;- df %&gt;%\n  group_by(Site) %&gt;%\n  filter(n() &gt;= 20) %&gt;%\n  ungroup()  # It's a good practice to ungroup data after operations like this\n\nsite_histogram(df)\n\n\n\n\n\n\n\nremove sites with no data since last two years (2022)\n# TODO: should calculate \"last two years\" from latest date in the data\nlatest_year &lt;- max(df$Year)\n\nggplot(df, aes(x = Year)) +\n  geom_histogram(binwidth = 1, fill = \"blue\", color = \"black\") +\n  labs(title = \"Histogram of Years\",\n       x = \"Year\",\n       y = \"Frequency\") +\n  theme_minimal()\n\n\n\n\n\nremove sites with no data since last two years (2022)\nsites_with_recent_data &lt;- df %&gt;%\n  filter(Year &gt; latest_year-2) %&gt;%  # Filter for rows with Year greater than 2022\n  distinct(Site)           # Get unique sites that meet the criteria\n\ndf &lt;- df %&gt;%\n  semi_join(sites_with_recent_data, by = \"Site\")  # Keep rows where 'Site' matches those in the recent data list\n\nsite_histogram(df)\n\n\n\n\n\n\n\nwrite cleaned DataFrame to a file\nwrite.csv(df, \"data/df_cleaned.csv\", row.names = FALSE)"
  }
]