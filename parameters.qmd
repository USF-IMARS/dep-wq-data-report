---
title: "Parameter Reports"
description: "Reports for each reported water quality parameter."
code-fold: true
listing:
  contents: parameter_reports
  type: grid
---


```{R} 
#| label: import libraries & functions
#| code-summary: (code) import libraries & functions
#| message: false
#| warning: false

if (!requireNamespace("librarian", quietly = TRUE)) {
  # If not installed, install the package
  install.packages("librarian")
}

librarian::shelf(
  glue,
  quarto
)
source("R/getData.R")
data <- getData()
```

# Parameters
Using the clean data after completing Sites QC.

Available parameters:

```{R}
#| label: view unique paramters
#| code-summary: (code) view unique parameters

# print unique values in `Parameter` column
unique_parameters <- unique(data$Parameter)
print(unique_parameters)

# # create a violin plot of `Value` grouped by each `Parameter`
# NOTE: this ran for 20min and never finished
# ggplot2::ggplot(df, aes(x=Parameter, y=Value)) +
#     geom_violin(trim=FALSE) +
#     theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
#     labs(title="Violin Plot of Values by Parameter",
#          x="Parameter",
#          y="Value")

# TODO: print n observations per parameter

```


# TODO: filter rows with param values too high

param           | min | max
----------------|-----|-------
Ammonium        | 0   | 6
Nitrate         | 0   | 10
Chlorophylll    | 0   | 75
Nitrate-Nitrate | 0   | 8 
Nitrite         | 0   | 0.5
Nitrogen Total  | 0   | 6
Nitrogen Total K. | 0  | 5
Orthophosphate  | 0  | 10
Phosphorus total | 0  | 2
Silica          | 0 | 20 
Turbidity       | 0  | 200